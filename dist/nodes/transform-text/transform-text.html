<script type="text/javascript">
(function () {
    'use strict';

    var TransformTextOperation;
    (function (TransformTextOperation) {
        TransformTextOperation["UpperCase"] = "upper";
        TransformTextOperation["LowerCase"] = "lower";
    })(TransformTextOperation || (TransformTextOperation = {}));

    RED.nodes.registerType("transform-text", {
        category: "function",
        color: "#a6bbcf",
        defaults: {
            operation: { value: TransformTextOperation.UpperCase },
            name: { value: "" },
        },
        inputs: 1,
        outputs: 1,
        icon: "transform-text.png",
        paletteLabel: "transform text",
        label: function () {
            if (this.name) {
                return this.name;
            }
            switch (this.operation) {
                case TransformTextOperation.UpperCase: {
                    return "to upper case";
                }
                case TransformTextOperation.LowerCase: {
                    return "to lower case";
                }
            }
        },
    });

}());
</script>
<script type="text/html" data-template-name="transform-text">
  <div class="form-row">
    <label for="node-input-operation"><i class="fa fa-tasks"></i> Operation</label>
    <select type="text" id="node-input-operation" style="width:70%;">
      <option value="upper">To Upper Case</option>
      <option value="lower">To Lower Case</option>
    </select>
  </div>
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
</script>

<script type="text/html" data-help-name="transform-text">
  <p>A simple node that converts the message payloads into all upper- or lower-case characters</p>
</script>
